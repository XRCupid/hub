{"version":3,"file":"static/js/4130.2a092826.chunk.js","mappings":"yKAGO,SAASA,IACd,MAAOC,EAAQC,IAAaC,EAAAA,EAAAA,UAAmB,KACxCC,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,GAErCG,EAAaC,IACjBL,GAAUM,GAAQ,IAAIA,EAAK,GAADC,QAAK,IAAIC,MAAOC,cAAa,MAAAF,OAAKF,OA6G9D,OATAK,EAAAA,EAAAA,YAAU,IACD,KACLC,QAAQC,IAAI,+CACRV,GACFW,EAAAA,EAAiBC,eAGpB,CAACZ,KAGFa,EAAAA,EAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQC,SAAU,QAASC,OAAQ,UAAWC,SAAA,EACnEC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,0BAEJL,EAAAA,EAAAA,MAAA,OAAKC,MAAO,CAAEM,aAAc,QAASF,SAAA,EACnCC,EAAAA,EAAAA,KAAA,UAAQE,QA/GSC,UACrBpB,EAAU,+BAGV,MAAMqB,EAAW,CACfC,WAAW,EACXC,cAAc,EACdC,aAAa,EACbC,cACEC,mDAAmCC,UAAU,EAAG,IAAM,MACxDC,iBACEF,mEAAsCC,UAAU,EAAG,IAAM,MAC3DE,SAAUH,wCAKZ,GAFA1B,EAAU,sBAADG,OAAuB2B,KAAKC,UAAUV,EAAU,KAAM,MAE1DA,EAASC,YAAcD,EAASE,eAAiBF,EAASG,YAM7D,OALAxB,EAAU,kDACVA,EAAU,wDACVA,EAAU,4BACVA,EAAU,oCACVA,EAAU,8BAIZ,IAEES,EAAAA,EAAiBuB,WAAW/B,IAC1BD,EAAU,0BAADG,OAA2BF,EAAQgC,KAAI,SAAA9B,OAAQF,EAAQiC,KAC5DjC,EAAQA,SACVD,EAAU,oBAADG,OAAqB2B,KAAKC,UAAU9B,EAAQA,cAIzDQ,EAAAA,EAAiB0B,SAASC,IACxBpC,EAAU,mBAADG,OAAoBiC,EAAUC,KAAI,cAI7CrC,EAAU,kCACJS,EAAAA,EAAiB6B,UAEvBtC,EAAU,+BACVD,GAAa,GAGbwC,YAAW,KACL9B,EAAAA,EAAiB+B,oBACnBxC,EAAU,2BACVS,EAAAA,EAAiBgC,YAAY,qCAE9B,IAEL,CAAE,MAAOC,GACP1C,EAAU,UAADG,OAAWuC,IACpBnC,QAAQmC,MAAM,cAAeA,EAC/B,GAsDqCC,SAAU7C,EAAUkB,SAAC,oCAGtDC,EAAAA,EAAAA,KAAA,UAAQE,QAtDQC,UACpBpB,EAAU,8BAEV,MAAM4C,EAASlB,mDACTmB,EAAYnB,mEAOlB,IAEE,MAAMoB,EAAcC,KAAK,GAAD5C,OAAIyC,EAAM,KAAAzC,OAAI0C,IAChCG,QAAiBC,MAAM,sCAAuC,CAClEC,OAAQ,OACRC,QAAS,CACP,eAAgB,oCAChB,cAAgB,SAADhD,OAAW2C,IAE5BM,KAAM,kCAKR,GAFApD,EAAU,0BAADG,OAA2B6C,EAASrD,SAEzCqD,EAASK,GAAI,CACf,MAAMC,QAAaN,EAASO,OAC5BvD,EAAU,+BAADG,OAAgCmD,EAAKE,WAAU,YAC1D,KAAO,CACL,MAAMC,QAAkBT,EAASU,OACjC1D,EAAU,gBAADG,OAAiBsD,GAC5B,CACF,CAAE,MAAOf,GACP1C,EAAU,qBAADG,OAAsBuC,GACjC,GAoBoC9B,MAAO,CAAE+C,WAAY,QAAS3C,SAAC,wBAKjEC,EAAAA,EAAAA,KAAA,OAAKL,MAAO,CACVgD,gBAAiB,UACjB/C,QAAS,OACTgD,aAAc,MACdC,WAAY,YACZC,SAAU,OACVC,UAAW,QACXC,SAAU,QACVjD,SACCrB,EAAOuE,KAAI,CAACC,EAAKC,KAChBnD,EAAAA,EAAAA,KAAA,OAAeL,MAAO,CAAEM,aAAc,OAAQF,SAC3CmD,GADOC,SAOpB,C","sources":["components/HumeConnectionTest.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport humeVoiceService from '../services/humeVoiceService';\n\nexport function HumeConnectionTest() {\n  const [status, setStatus] = useState<string[]>([]);\n  const [connected, setConnected] = useState(false);\n  \n  const addStatus = (message: string) => {\n    setStatus(prev => [...prev, `${new Date().toISOString()}: ${message}`]);\n  };\n  \n  const testConnection = async () => {\n    addStatus('Starting connection test...');\n    \n    // Check environment variables\n    const envCheck = {\n      hasApiKey: !!process.env.REACT_APP_HUME_API_KEY,\n      hasSecretKey: !!process.env.REACT_APP_HUME_SECRET_KEY,\n      hasConfigId: !!process.env.REACT_APP_HUME_CONFIG_ID,\n      apiKeyPreview: process.env.REACT_APP_HUME_API_KEY ? \n        process.env.REACT_APP_HUME_API_KEY.substring(0, 10) + '...' : 'NOT SET',\n      secretKeyPreview: process.env.REACT_APP_HUME_SECRET_KEY ? \n        process.env.REACT_APP_HUME_SECRET_KEY.substring(0, 10) + '...' : 'NOT SET',\n      configId: process.env.REACT_APP_HUME_CONFIG_ID || 'NOT SET'\n    };\n    \n    addStatus(`Environment check: ${JSON.stringify(envCheck, null, 2)}`);\n    \n    if (!envCheck.hasApiKey || !envCheck.hasSecretKey || !envCheck.hasConfigId) {\n      addStatus('ERROR: Missing required environment variables!');\n      addStatus('Please ensure these are set in your .env.local file:');\n      addStatus('- REACT_APP_HUME_API_KEY');\n      addStatus('- REACT_APP_HUME_SECRET_KEY');\n      addStatus('- REACT_APP_HUME_CONFIG_ID');\n      return;\n    }\n    \n    try {\n      // Set up callbacks\n      humeVoiceService.onMessage((message: any) => {\n        addStatus(`Message received: type=${message.type}, id=${message.id}`);\n        if (message.message) {\n          addStatus(`Message content: ${JSON.stringify(message.message)}`);\n        }\n      });\n      \n      humeVoiceService.onAudio((audioBlob: Blob) => {\n        addStatus(`Audio received: ${audioBlob.size} bytes`);\n      });\n      \n      // Try to connect\n      addStatus('Attempting to connect...');\n      await humeVoiceService.connect();\n      \n      addStatus('SUCCESS: Connected to Hume!');\n      setConnected(true);\n      \n      // Test sending a message\n      setTimeout(() => {\n        if (humeVoiceService.checkConnection()) {\n          addStatus('Sending test message...');\n          humeVoiceService.sendMessage('Hello, this is a test message.');\n        }\n      }, 1000);\n      \n    } catch (error) {\n      addStatus(`ERROR: ${error}`);\n      console.error('Full error:', error);\n    }\n  };\n  \n  const testDirectApi = async () => {\n    addStatus('Testing direct API call...');\n    \n    const apiKey = process.env.REACT_APP_HUME_API_KEY;\n    const secretKey = process.env.REACT_APP_HUME_SECRET_KEY;\n    \n    if (!apiKey || !secretKey) {\n      addStatus('ERROR: Missing API credentials');\n      return;\n    }\n    \n    try {\n      // Test OAuth endpoint\n      const credentials = btoa(`${apiKey}:${secretKey}`);\n      const response = await fetch('https://api.hume.ai/oauth2-cc/token', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n          'Authorization': `Basic ${credentials}`\n        },\n        body: 'grant_type=client_credentials',\n      });\n      \n      addStatus(`OAuth response status: ${response.status}`);\n      \n      if (response.ok) {\n        const data = await response.json();\n        addStatus(`Token obtained! Expires in: ${data.expires_in} seconds`);\n      } else {\n        const errorText = await response.text();\n        addStatus(`OAuth error: ${errorText}`);\n      }\n    } catch (error) {\n      addStatus(`Direct API error: ${error}`);\n    }\n  };\n  \n  useEffect(() => {\n    return () => {\n      console.log('[HumeConnectionTest] Cleaning up on unmount');\n      if (connected) {\n        humeVoiceService.disconnect();\n      }\n    };\n  }, [connected]);\n\n  return (\n    <div style={{ padding: '20px', maxWidth: '800px', margin: '0 auto' }}>\n      <h1>Hume Connection Test</h1>\n      \n      <div style={{ marginBottom: '20px' }}>\n        <button onClick={testConnection} disabled={connected}>\n          Test Hume WebSocket Connection\n        </button>\n        <button onClick={testDirectApi} style={{ marginLeft: '10px' }}>\n          Test Direct API\n        </button>\n      </div>\n      \n      <div style={{ \n        backgroundColor: '#f0f0f0', \n        padding: '10px', \n        borderRadius: '5px',\n        fontFamily: 'monospace',\n        fontSize: '12px',\n        maxHeight: '400px',\n        overflow: 'auto'\n      }}>\n        {status.map((msg, idx) => (\n          <div key={idx} style={{ marginBottom: '5px' }}>\n            {msg}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":["HumeConnectionTest","status","setStatus","useState","connected","setConnected","addStatus","message","prev","concat","Date","toISOString","useEffect","console","log","humeVoiceService","disconnect","_jsxs","style","padding","maxWidth","margin","children","_jsx","marginBottom","onClick","async","envCheck","hasApiKey","hasSecretKey","hasConfigId","apiKeyPreview","process","substring","secretKeyPreview","configId","JSON","stringify","onMessage","type","id","onAudio","audioBlob","size","connect","setTimeout","checkConnection","sendMessage","error","disabled","apiKey","secretKey","credentials","btoa","response","fetch","method","headers","body","ok","data","json","expires_in","errorText","text","marginLeft","backgroundColor","borderRadius","fontFamily","fontSize","maxHeight","overflow","map","msg","idx"],"sourceRoot":""}