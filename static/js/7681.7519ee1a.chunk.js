"use strict";(self.webpackChunkhub=self.webpackChunkhub||[]).push([[7681],{67681:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var s=n(65043),i=n(95172),r=(n(79094),n(70579));const a=()=>{const[e,t]=(0,s.useState)(null),[n,a]=(0,s.useState)([]),[o,c]=(0,s.useState)(""),[l,u]=(0,s.useState)(.7),[d,h]=(0,s.useState)(Date.now()),g=(new i.L,(e,t,s)=>{const i=n.length;return i<2?"Hi! Thanks for reaching out. How has your day been?":i<4?"That's nice! I've been pretty busy with work lately.":4===i?"I appreciate you asking, but I don't think we're a romantic match. I hope you find someone wonderful though!":e.toLowerCase().includes("why")||e.toLowerCase().includes("chance")?"I just don't feel that connection, and that's okay! These things happen.":"I hope you understand. Take care!"}),m=(e,t,s)=>{const i=["Hey! Sorry for the delay, I was in a meeting. How's your evening going?","That sounds really interesting! I love hearing about people's passions. Tell me more!","Haha, that's so funny! I have a similar story actually...","I'm really enjoying our conversation! What do you like to do on weekends?","That's so cool! I'd love to hear more about that sometime."];return i[Math.min(n.length,i.length-1)]},p=(e,t,s)=>{const i=["Hi there.","Yeah, it's fine.","Oh okay.","That's nice.","Cool.","Mm hmm.","Right."];return i[Math.min(n.length,i.length-1)]},y=()=>{if(!o.trim()||!e)return;const t=[...n,{sender:"user",message:o,timestamp:Date.now()}],s=((e,t,n)=>{const s=t.npcBehavior;switch(t.id){case"polite_rejection":return g(e,n,s);case"slow_responder":return m(e,n,s);case"interest_mismatch":return p(e,n,s);default:return"I'm not sure how to respond to that."}})(o,e,{conversationHistory:t});setTimeout((()=>{a((e=>[...e,{sender:"npc",message:s,timestamp:Date.now()}]))}),"slow"===e.npcBehavior.responseSpeed?3e3:1e3),a(t),c(""),t.length>=8&&f()},f=()=>{if(!e)return;const t=n.filter((e=>"user"===e.sender)).map((e=>e.message)),s=((e,t)=>{const n={scenario_id:e.id,total_messages:t.length,over_pursuit:!1,graceful_handling:!1,emotional_regulation:.5,lesson_learned:!1};switch(e.id){case"polite_rejection":n.over_pursuit=t.some((e=>e.toLowerCase().includes("why")||e.toLowerCase().includes("please")||e.toLowerCase().includes("chance"))),n.graceful_handling=!n.over_pursuit&&t.some((e=>e.toLowerCase().includes("understand")||e.toLowerCase().includes("thanks")||e.toLowerCase().includes("good luck")));break;case"slow_responder":const e=t.filter((e=>e.includes("??")||e.toLowerCase().includes("hello?")||e.toLowerCase().includes("there?")));n.over_pursuit=e.length>0,n.emotional_regulation=Math.max(0,1-e.length/t.length);break;case"interest_mismatch":const s=t.filter((e=>e.length>100));n.over_pursuit=s.length>.5*t.length,n.graceful_handling=t.length<5}return n})(e,t),r={emotionData:[{stress:s.over_pursuit?.8:.3,confidence:s.graceful_handling?.8:.4}],conversationData:n,coachId:"grace",duration:(Date.now()-d)/1e3};(new i.L).trackSessionPerformance(r);alert("Scenario Complete!\nPerformance: ".concat(JSON.stringify(s,null,2)))};return(0,r.jsxs)("div",{className:"basic-npc-scenarios",children:[(0,r.jsx)("h2",{children:"Practice Dating Scenarios"}),e?(0,r.jsxs)("div",{className:"active-scenario",children:[(0,r.jsxs)("div",{className:"scenario-header",children:[(0,r.jsx)("h3",{children:e.name}),(0,r.jsxs)("p",{children:["Goal: ",e.learningObjective]}),(0,r.jsx)("button",{onClick:()=>t(null),children:"\u2190 Back to Scenarios"})]}),(0,r.jsx)("div",{className:"conversation-area",children:n.map(((e,t)=>(0,r.jsxs)("div",{className:"message ".concat(e.sender),children:[(0,r.jsxs)("strong",{children:["user"===e.sender?"You":"Alex",":"]})," ",e.message]},t)))}),(0,r.jsxs)("div",{className:"input-area",children:[(0,r.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:"Type your message...",onKeyPress:e=>"Enter"===e.key&&y()}),(0,r.jsx)("button",{onClick:y,children:"Send"})]}),(0,r.jsxs)("div",{className:"coaching-hints",children:[(0,r.jsx)("h4",{children:"Success Criteria:"}),(0,r.jsx)("ul",{children:e.successCriteria.map(((e,t)=>(0,r.jsx)("li",{children:e},t)))})]})]}):(0,r.jsxs)("div",{className:"scenario-selection",children:[(0,r.jsx)("h3",{children:"Choose a scenario to practice:"}),[{id:"polite_rejection",name:"Learning to Handle Polite Rejection",description:"Practice responding gracefully when someone isn't interested",difficulty:"medium",learningObjective:"Accept rejection without taking it personally or trying to convince",npcBehavior:{responseSpeed:"medium",enthusiasm:.3,interest_decline_rate:.1,rejection_style:"polite",conversation_depth:.4},successCriteria:['Accept the "no" gracefully',"Don't try to convince or negotiate","End conversation positively","Don't take it personally"],failurePatterns:["Arguing or trying to convince","Getting defensive or hurt",'Asking "why" repeatedly',"Making it about their loss"]},{id:"slow_responder",name:"Patience with Slow Communication",description:"Learn emotional regulation when someone takes time to respond",difficulty:"easy",learningObjective:"Maintain composure and avoid over-texting when responses are delayed",npcBehavior:{responseSpeed:"slow",enthusiasm:.7,interest_decline_rate:.3,rejection_style:"gradual_fade",conversation_depth:.8},successCriteria:["Wait patiently for responses","Don't send follow-up messages","Maintain message quality despite delays","Stay positive and relaxed"],failurePatterns:["Double/triple texting","Getting anxious about delays",'Sending "???" or "hello?" messages',"Assuming they're not interested"]},{id:"interest_mismatch",name:"Recognizing Interest Mismatch",description:"Learn to recognize when someone is being polite but not truly engaged",difficulty:"hard",learningObjective:"Identify and gracefully exit when interest isn't mutual",npcBehavior:{responseSpeed:"medium",enthusiasm:.4,interest_decline_rate:.05,rejection_style:"gradual_fade",conversation_depth:.2},successCriteria:["Recognize the low engagement signs","Stop investing heavily in conversation","Exit gracefully without confrontation","Don't take it personally"],failurePatterns:["Over-investing in one-sided conversation","Trying to force engagement","Missing the subtle disinterest signals","Getting frustrated or pushy"]}].map((e=>(0,r.jsxs)("div",{className:"scenario-card",onClick:()=>{t(e),h(Date.now()),a([]),u(e.npcBehavior.enthusiasm)},children:[(0,r.jsx)("h4",{children:e.name}),(0,r.jsx)("p",{children:e.description}),(0,r.jsxs)("div",{className:"difficulty",children:["Difficulty: ",e.difficulty]}),(0,r.jsxs)("div",{className:"objective",children:["Goal: ",e.learningObjective]})]},e.id)))]})]})}},79094:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});const s={}},95172:(e,t,n)=>{n.d(t,{L:()=>s});class s{analyzeCoachSession(e,t,n,s){const i=this.calculateBaseMetrics(e,t,s),r=this.identifyCriticalEvents(e,t),a=this.identifyLearningAreas(i,r,n);return{sessionId:this.generateSessionId(),userId:this.getCurrentUserId(),coachId:n,sessionType:"lesson",startTime:Date.now()-1e3*s,endTime:Date.now(),metrics:i,criticalEvents:r,improvementAreas:a.improvements,strengths:a.strengths}}calculateBaseMetrics(e,t,n){const s=this.calculateAverageStress(e),i=this.countStressSpikes(e),r=this.calculateRecoveryTime(e);return{conversationFlow:this.assessConversationFlow(t),emotionalRegulation:Math.max(0,1-i/10),boundaryRespect:.8,rejectionHandling:Math.max(0,1-r/300),confidenceLevel:this.assessConfidenceFromPosture(e),attachmentAnxiety:Math.min(1,s)}}identifyCriticalEvents(e,t){const n=[];e.forEach(((e,t)=>{e.stress>.8&&e.timestamp&&n.push({timestamp:e.timestamp,type:"rejection_poor_handling",description:"High stress response detected",severity:e.stress>.9?"high":"medium",context:{stressLevel:e.stress}})}));const s=this.analyzeConfidencePattern(e);return s.hasSignificantBoost&&n.push({timestamp:s.timestamp,type:"confidence_spike",description:"Significant confidence improvement detected",severity:"low",context:{improvement:s.improvement}}),n}generateSessionId(){return"session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}getCurrentUserId(){return"user_"+(localStorage.getItem("currentUserId")||"anonymous")}calculateAverageStress(e){if(!e||0===e.length)return.3;const t=e.map((e=>e.stress||e.anxiety||.3));return t.reduce(((e,t)=>e+t),0)/t.length}countStressSpikes(e){return e&&0!==e.length?e.filter((e=>(e.stress||0)>.7)).length:0}calculateRecoveryTime(e){if(!e||0===e.length)return 60;let t=0,n=!1,s=0;return e.forEach((e=>{const i=e.stress||0,r=e.timestamp||Date.now();if(!n&&i>.7)n=!0,s=r;else if(n&&i<.4){const e=(r-s)/1e3;t=Math.max(t,e),n=!1}})),t||60}assessConversationFlow(e){if(!e||0===e.length)return.5;const t=e.filter((e=>"user"===e.role)).length/e.length;return Math.max(0,1-2*Math.abs(t-.5))}assessConfidenceFromPosture(e){if(!e||0===e.length)return.5;const t=e.map((e=>{var t;return e.confidence||(null===(t=e.posture)||void 0===t?void 0:t.upright)||e.eye_contact||.5}));return t.reduce(((e,t)=>e+t),0)/t.length}analyzeConfidencePattern(e){if(!e||e.length<2)return{hasSignificantBoost:!1,timestamp:Date.now(),improvement:0};const t=e[0].confidence||.5,n=(e[e.length-1].confidence||.5)-t;return{hasSignificantBoost:n>.2,timestamp:e[e.length-1].timestamp||Date.now(),improvement:n}}identifyLearningAreas(e,t,n){const s=[],i=[];return e.emotionalRegulation<.5&&s.push("emotional_regulation"),e.rejectionHandling<.4&&s.push("rejection_resilience"),e.conversationFlow<.4&&s.push("conversation_balance"),e.attachmentAnxiety>.7&&s.push("attachment_security"),e.confidenceLevel>.7&&i.push("natural_confidence"),e.boundaryRespect>.8&&i.push("respectful_communication"),e.conversationFlow>.7&&i.push("balanced_conversation"),{improvements:s,strengths:i}}recommendNextLesson(e){const t=e.slice(-5),n=this.identifyWeakestAreas(t),s=this.identifyUrgentIssues(t);return s.length>0?this.createUrgentIntervention(s[0]):0===n.length?{lessonId:"general_confidence_building",coachId:"grace",urgency:"normal",focusAreas:["self_confidence","social_skills","personal_growth"],estimatedDuration:30,prerequisiteCheck:!0}:this.createTargetedLesson(n[0])}identifyWeakestAreas(e){const t=this.calculateAverageMetrics(e),n=[];return t.emotionalRegulation<.4&&n.push({area:"emotional_regulation",severity:"high",coach:"grace",priority:9}),t.rejectionHandling<.3&&n.push({area:"rejection_resilience",severity:"critical",coach:"rizzo",priority:10}),t.attachmentAnxiety>.7&&n.push({area:"attachment_security",severity:"medium",coach:"grace",priority:7}),n.sort(((e,t)=>t.priority-e.priority))}calculateAverageMetrics(e){if(!e||0===e.length)return{conversationFlow:.5,emotionalRegulation:.5,boundaryRespect:.5,rejectionHandling:.5,confidenceLevel:.5,attachmentAnxiety:.5};const t={};return["conversationFlow","emotionalRegulation","boundaryRespect","rejectionHandling","confidenceLevel","attachmentAnxiety"].forEach((n=>{const s=e.map((e=>e.metrics[n])).filter((e=>void 0!==e));t[n]=s.length>0?s.reduce(((e,t)=>e+t),0)/s.length:.5})),t}identifyUrgentIssues(e){const t=[];return e.forEach((e=>{e.criticalEvents.filter((e=>"critical"===e.severity||"high"===e.severity)).length>0&&t.push("safety_concern"),e.metrics.rejectionHandling<.2&&t.push("rejection_crisis"),e.metrics.emotionalRegulation<.2&&t.push("emotional_dysregulation")})),[...new Set(t)]}createUrgentIntervention(e){return{safety_concern:{lessonId:"urgent_safety_intervention",coachId:"grace",urgency:"critical",focusAreas:["safety_awareness","boundary_enforcement","red_flag_recognition"],estimatedDuration:30,prerequisiteCheck:!1},rejection_crisis:{lessonId:"rejection_resilience_intensive",coachId:"rizzo",urgency:"critical",focusAreas:["rejection_handling","self_worth","outcome_independence"],estimatedDuration:45,prerequisiteCheck:!1},emotional_dysregulation:{lessonId:"emotional_regulation_bootcamp",coachId:"posie",urgency:"high",focusAreas:["breathing_techniques","nervous_system_regulation","grounding"],estimatedDuration:25,prerequisiteCheck:!1}}[e]||this.createTargetedLesson({area:"general_improvement",severity:"medium",coach:"grace",priority:5})}createTargetedLesson(e){if(!e||!e.area)return{lessonId:"general_confidence_building",coachId:"grace",urgency:"normal",focusAreas:["self_confidence","social_skills","personal_growth"],estimatedDuration:30,prerequisiteCheck:!0};return{emotional_regulation:{lessonId:"emotional_intelligence_foundation",coachId:"grace",urgency:"high",focusAreas:["emotional_awareness","regulation_techniques","self_compassion"],estimatedDuration:35,prerequisiteCheck:!0},rejection_resilience:{lessonId:"handling_rejection_gracefully",coachId:"rizzo",urgency:"high",focusAreas:["reframing_rejection","maintaining_dignity","moving_forward"],estimatedDuration:40,prerequisiteCheck:!0},attachment_security:{lessonId:"secure_attachment_building",coachId:"grace",urgency:"normal",focusAreas:["attachment_styles","anxiety_management","secure_relating"],estimatedDuration:45,prerequisiteCheck:!0}}[e.area]||{lessonId:"general_confidence_building",coachId:"rizzo",urgency:"normal",focusAreas:["self_confidence","social_skills","personal_growth"],estimatedDuration:30,prerequisiteCheck:!0}}assessCurrentLevel(e){if(!e||e.length<3)return"foundation";const t=this.calculateAverageMetrics(e.slice(-5)),n=(t.conversationFlow+t.emotionalRegulation+t.rejectionHandling+t.confidenceLevel)/4;return n>=.8?"advanced":n>=.6?"intermediate":"foundation"}assessAdvancedReadiness(e){return"advanced"===this.assessCurrentLevel(e)}identifySkillGaps(e){const t=this.calculateAverageMetrics(e),n=[];return t.conversationFlow<.6&&n.push("conversation_balance"),t.emotionalRegulation<.6&&n.push("emotional_regulation"),t.rejectionHandling<.6&&n.push("rejection_resilience"),t.confidenceLevel<.6&&n.push("confidence_building"),t.attachmentAnxiety>.6&&n.push("attachment_security"),n}trackSessionPerformance(e){const t=this.analyzeCoachSession(e.emotionData,e.conversationData,e.coachId,e.duration);return this.saveAnalytics(t),t}getAdaptiveLessonPlan(e){const t=this.getUserHistory(e);return{nextLesson:this.recommendNextLesson(t),currentLevel:this.assessCurrentLevel(t),readinessForAdvanced:this.assessAdvancedReadiness(t),criticalSkillGaps:this.identifySkillGaps(t)}}saveAnalytics(e){localStorage.setItem("session_".concat(e.sessionId),JSON.stringify(e));const t=this.getUserHistory(e.userId);t.push(e),localStorage.setItem("user_history_".concat(e.userId),JSON.stringify(t))}getUserHistory(e){const t=localStorage.getItem("user_history_".concat(e));return t?JSON.parse(t):[]}}}}]);
//# sourceMappingURL=7681.7519ee1a.chunk.js.map