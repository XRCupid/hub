"use strict";(self.webpackChunkhub=self.webpackChunkhub||[]).push([[3031],{23031:(e,s,r)=>{r.r(s),r.d(s,{FallbackAvatar:()=>i,default:()=>c});var a=r(9950),t=r(12880),n=r(69104),o=r(44414);const i=e=>{const s=(0,a.useRef)(null);(0,t.F)((r=>{s.current&&(s.current.rotation.y=.1*Math.sin(.5*r.clock.elapsedTime),e.isSpeaking&&(s.current.scale.y=1+.05*Math.sin(10*r.clock.elapsedTime)))}));const r="happy"===e.emotion?"#4ade80":"sad"===e.emotion?"#60a5fa":"surprised"===e.emotion?"#f59e0b":"#a78bfa";return(0,o.jsxs)("group",{position:e.position,scale:e.scale,children:[(0,o.jsxs)("mesh",{ref:s,position:[0,1.6,0],children:[(0,o.jsx)("sphereGeometry",{args:[.3,32,32]}),(0,o.jsx)("meshStandardMaterial",{color:r})]}),(0,o.jsxs)("mesh",{position:[0,.8,0],children:[(0,o.jsx)("cylinderGeometry",{args:[.2,.3,1.2,32]}),(0,o.jsx)("meshStandardMaterial",{color:"#667eea"})]}),(0,o.jsxs)("mesh",{position:[-.1,1.65,.25],children:[(0,o.jsx)("sphereGeometry",{args:[.05,16,16]}),(0,o.jsx)("meshStandardMaterial",{color:"#1a1a1a"})]}),(0,o.jsxs)("mesh",{position:[.1,1.65,.25],children:[(0,o.jsx)("sphereGeometry",{args:[.05,16,16]}),(0,o.jsx)("meshStandardMaterial",{color:"#1a1a1a"})]})]})},c=e=>{let{avatarUrl:s,position:r=[0,0,0],scale:i=1,isSpeaking:c=!1,emotion:l="neutral"}=e;const u=(0,a.useRef)(null),{scene:p}=(0,n.p)(s),h=a.useMemo((()=>p.clone()),[p]);return(0,t.F)((e=>{if(!u.current)return;const s=1+.02*Math.sin(.5*e.clock.elapsedTime);u.current.scale.y=s*i,c&&(u.current.rotation.x=.02*Math.sin(5*e.clock.elapsedTime)),u.current.rotation.z=.01*Math.sin(.3*e.clock.elapsedTime)})),(0,a.useEffect)((()=>{if(!u.current)return;const e={neutral:{x:0,y:0,z:0},happy:{x:-.05,y:0,z:0},sad:{x:.05,y:0,z:0},surprised:{x:-.1,y:0,z:0},thinking:{x:0,y:.1,z:0}}[l];u.current.rotation.x=e.x,u.current.rotation.y=e.y}),[l]),(0,o.jsx)("group",{ref:u,position:r,scale:i,children:(0,o.jsx)("primitive",{object:h})})}}}]);