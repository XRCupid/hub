"use strict";(self.webpackChunkhub=self.webpackChunkhub||[]).push([[7785],{47785:(e,t,n)=>{n.r(t),n.d(t,{HumeConnectionTest:()=>s});var o=n(9950),c=n(68122),i=n(44414);function s(){const[e,t]=(0,o.useState)([]),[n,s]=(0,o.useState)(!1),a=e=>{t((t=>[...t,"".concat((new Date).toISOString(),": ").concat(e)]))};return(0,o.useEffect)((()=>()=>{console.log("[HumeConnectionTest] Cleaning up on unmount"),n&&c.A.disconnect()}),[n]),(0,i.jsxs)("div",{style:{padding:"20px",maxWidth:"800px",margin:"0 auto"},children:[(0,i.jsx)("h1",{children:"Hume Connection Test"}),(0,i.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,i.jsx)("button",{onClick:async()=>{a("Starting connection test...");const e={hasApiKey:!0,hasSecretKey:!0,hasConfigId:!0,apiKeyPreview:"m3KaINwHsH55rJNO6zr2kIEAWvOimYeLTon3OriOXWJeCxCl".substring(0,10)+"...",secretKeyPreview:"IWtKuDbybQZLI0qWWPJn2M1iW3wrKGiQhmoQcTvIGJD2iBhDG3eRD35969FzcjNT".substring(0,10)+"...",configId:"bfd6db39-f0ea-46c3-a64b-e902d8cec212"};if(a("Environment check: ".concat(JSON.stringify(e,null,2))),!e.hasApiKey||!e.hasSecretKey||!e.hasConfigId)return a("ERROR: Missing required environment variables!"),a("Please ensure these are set in your .env.local file:"),a("- REACT_APP_HUME_API_KEY"),a("- REACT_APP_HUME_SECRET_KEY"),void a("- REACT_APP_HUME_CONFIG_ID");try{c.A.onMessage((e=>{a("Message received: type=".concat(e.type,", id=").concat(e.id)),e.message&&a("Message content: ".concat(JSON.stringify(e.message)))})),c.A.onAudio((e=>{a("Audio received: ".concat(e.size," bytes"))})),a("Attempting to connect..."),await c.A.connect(),a("SUCCESS: Connected to Hume!"),s(!0),setTimeout((()=>{c.A.checkConnection()&&(a("Sending test message..."),c.A.sendMessage("Hello, this is a test message."))}),1e3)}catch(t){a("ERROR: ".concat(t)),console.error("Full error:",t)}},disabled:n,children:"Test Hume WebSocket Connection"}),(0,i.jsx)("button",{onClick:async()=>{a("Testing direct API call...");const e="m3KaINwHsH55rJNO6zr2kIEAWvOimYeLTon3OriOXWJeCxCl",t="IWtKuDbybQZLI0qWWPJn2M1iW3wrKGiQhmoQcTvIGJD2iBhDG3eRD35969FzcjNT";try{const n=btoa("".concat(e,":").concat(t)),o=await fetch("https://api.hume.ai/oauth2-cc/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(n)},body:"grant_type=client_credentials"});if(a("OAuth response status: ".concat(o.status)),o.ok){const e=await o.json();a("Token obtained! Expires in: ".concat(e.expires_in," seconds"))}else{const e=await o.text();a("OAuth error: ".concat(e))}}catch(n){a("Direct API error: ".concat(n))}},style:{marginLeft:"10px"},children:"Test Direct API"})]}),(0,i.jsx)("div",{style:{backgroundColor:"#f0f0f0",padding:"10px",borderRadius:"5px",fontFamily:"monospace",fontSize:"12px",maxHeight:"400px",overflow:"auto"},children:e.map(((e,t)=>(0,i.jsx)("div",{style:{marginBottom:"5px"},children:e},t)))})]})}}}]);