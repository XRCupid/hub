{"version":3,"file":"static/js/790.ddce3326.chunk.js","mappings":"6JAUA,MAuPA,EAvPoEA,IAK7D,IAL8D,OACnEC,EAAM,QACNC,EAAO,gBACPC,EAAe,MACfC,EAAQ,sBACTJ,EACC,MAAMK,GAAYC,EAAAA,EAAAA,QAA0B,OACrCC,EAAWC,IAAgBC,EAAAA,EAAAA,WAAS,IACpCC,EAAOC,IAAYF,EAAAA,EAAAA,UAAwB,OAElDG,EAAAA,EAAAA,YAAU,KACR,IAAKX,EAAQ,OAGb,MAAMY,EAAUC,EAAAA,EAAWC,4BACxBC,IACCC,QAAQC,IAAI,+BAAgCF,GAC5Cb,EAAgBa,GAChBd,OAEDQ,IACCO,QAAQP,MAAM,yBAA0BA,GACxCC,EAASD,MAIb,OAAOG,IACN,CAACZ,EAAQE,EAAiBD,IAW7B,IAAKD,EAAQ,OAAO,KAEpB,MAAMkB,EAAmBL,EAAAA,EAAWM,oBAAoB,CACtDC,SAAU,WACVC,YAAY,EACZC,YAAY,IAGd,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oBAAmBC,SAAA,EAChCF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,mBAAkBC,SAAA,EAC/BC,EAAAA,EAAAA,KAAA,MAAAD,SAAKtB,KACLuB,EAAAA,EAAAA,KAAA,UAAQF,UAAU,gBAAgBG,QAAS1B,EAAQwB,SAAC,eAKtDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oBAAmBC,SAAA,CAC/BnB,IACCiB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaC,SAAA,EAC1BC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,iBACfE,EAAAA,EAAAA,KAAA,KAAAD,SAAG,iCAINhB,IACCc,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,4BACJC,EAAAA,EAAAA,KAAA,KAAAD,SAAIhB,KACJc,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yBAAwBC,SAAA,EACrCC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,yBACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,EACEF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,UAAMC,EAAAA,EAAAA,KAAA,KAAGE,KAAK,gCAAgCC,OAAO,SAASC,IAAI,sBAAqBL,SAAC,8BAC5FC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,qCACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,8BACJC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,oCACJF,EAAAA,EAAAA,MAAA,MAAAE,SAAA,CAAI,gCAA4BC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,sDAM9CC,EAAAA,EAAAA,KAAA,UACEK,IAAK3B,EACL4B,IAAKd,EACLM,UAAU,aACVS,OAxDeC,KACvB3B,GAAa,IAwDL4B,QArDgBC,KACxB7B,GAAa,GACbG,EAAS,wEAoDD2B,MAAM,8BAKZX,EAAAA,EAAAA,KAAA,SAAAD,SAAA,+8G","sources":["components/RPMAvatarCreatorModal.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { rpmService } from '../services/readyPlayerMeService';\n\ninterface RPMAvatarCreatorModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onAvatarCreated: (avatarUrl: string) => void;\n  title?: string;\n}\n\nconst RPMAvatarCreatorModal: React.FC<RPMAvatarCreatorModalProps> = ({\n  isOpen,\n  onClose,\n  onAvatarCreated,\n  title = \"Create Your Avatar\"\n}) => {\n  const iframeRef = useRef<HTMLIFrameElement>(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!isOpen) return;\n\n    // Setup message listener for avatar creation\n    const cleanup = rpmService.setupAvatarCreatorListener(\n      (avatarUrl: string) => {\n        console.log('Avatar created successfully:', avatarUrl);\n        onAvatarCreated(avatarUrl);\n        onClose();\n      },\n      (error: string) => {\n        console.error('Avatar creation error:', error);\n        setError(error);\n      }\n    );\n\n    return cleanup;\n  }, [isOpen, onAvatarCreated, onClose]);\n\n  const handleIframeLoad = () => {\n    setIsLoading(false);\n  };\n\n  const handleIframeError = () => {\n    setIsLoading(false);\n    setError('Failed to load avatar creator. Please check your RPM configuration.');\n  };\n\n  if (!isOpen) return null;\n\n  const avatarCreatorUrl = rpmService.getAvatarCreatorUrl({\n    bodyType: 'halfbody',\n    quickStart: false,\n    clearCache: true\n  });\n\n  return (\n    <div className=\"rpm-modal-overlay\">\n      <div className=\"rpm-modal\">\n        <div className=\"rpm-modal-header\">\n          <h2>{title}</h2>\n          <button className=\"rpm-close-btn\" onClick={onClose}>\n            âœ•\n          </button>\n        </div>\n        \n        <div className=\"rpm-modal-content\">\n          {isLoading && (\n            <div className=\"rpm-loading\">\n              <div className=\"rpm-spinner\"></div>\n              <p>Loading avatar creator...</p>\n            </div>\n          )}\n          \n          {error && (\n            <div className=\"rpm-error\">\n              <h3>Configuration Required</h3>\n              <p>{error}</p>\n              <div className=\"rpm-setup-instructions\">\n                <h4>Setup Instructions:</h4>\n                <ol>\n                  <li>Go to <a href=\"https://studio.readyplayer.me\" target=\"_blank\" rel=\"noopener noreferrer\">studio.readyplayer.me</a></li>\n                  <li>Create a free developer account</li>\n                  <li>Create a new Application</li>\n                  <li>Copy your subdomain and App ID</li>\n                  <li>Update the configuration in <code>src/services/readyPlayerMeService.ts</code></li>\n                </ol>\n              </div>\n            </div>\n          )}\n          \n          <iframe\n            ref={iframeRef}\n            src={avatarCreatorUrl}\n            className=\"rpm-iframe\"\n            onLoad={handleIframeLoad}\n            onError={handleIframeError}\n            allow=\"camera; microphone\"\n          />\n        </div>\n      </div>\n\n      <style>{`\n        .rpm-modal-overlay {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(0, 0, 0, 0.8);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          z-index: 1000;\n        }\n\n        .rpm-modal {\n          background: white;\n          border-radius: 12px;\n          width: 90vw;\n          height: 90vh;\n          max-width: 800px;\n          max-height: 600px;\n          display: flex;\n          flex-direction: column;\n          overflow: hidden;\n        }\n\n        .rpm-modal-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          padding: 20px;\n          border-bottom: 1px solid #eee;\n          background: #f8f9fa;\n        }\n\n        .rpm-modal-header h2 {\n          margin: 0;\n          color: #333;\n        }\n\n        .rpm-close-btn {\n          background: none;\n          border: none;\n          font-size: 24px;\n          cursor: pointer;\n          color: #666;\n          padding: 0;\n          width: 30px;\n          height: 30px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .rpm-close-btn:hover {\n          color: #333;\n        }\n\n        .rpm-modal-content {\n          flex: 1;\n          position: relative;\n          display: flex;\n          flex-direction: column;\n        }\n\n        .rpm-iframe {\n          width: 100%;\n          height: 100%;\n          border: none;\n          flex: 1;\n        }\n\n        .rpm-loading {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n          background: white;\n          z-index: 10;\n        }\n\n        .rpm-spinner {\n          width: 40px;\n          height: 40px;\n          border: 4px solid #f3f3f3;\n          border-top: 4px solid #007bff;\n          border-radius: 50%;\n          animation: rpm-spin 1s linear infinite;\n          margin-bottom: 16px;\n        }\n\n        @keyframes rpm-spin {\n          0% { transform: rotate(0deg); }\n          100% { transform: rotate(360deg); }\n        }\n\n        .rpm-error {\n          padding: 40px;\n          text-align: center;\n          color: #666;\n        }\n\n        .rpm-error h3 {\n          color: #dc3545;\n          margin-bottom: 16px;\n        }\n\n        .rpm-setup-instructions {\n          background: #f8f9fa;\n          padding: 20px;\n          border-radius: 8px;\n          margin-top: 20px;\n          text-align: left;\n        }\n\n        .rpm-setup-instructions h4 {\n          margin-top: 0;\n          color: #333;\n        }\n\n        .rpm-setup-instructions ol {\n          margin: 16px 0;\n          padding-left: 20px;\n        }\n\n        .rpm-setup-instructions li {\n          margin-bottom: 8px;\n        }\n\n        .rpm-setup-instructions a {\n          color: #007bff;\n          text-decoration: none;\n        }\n\n        .rpm-setup-instructions a:hover {\n          text-decoration: underline;\n        }\n\n        .rpm-setup-instructions code {\n          background: #e9ecef;\n          padding: 2px 6px;\n          border-radius: 4px;\n          font-family: 'Monaco', 'Consolas', monospace;\n          font-size: 14px;\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default RPMAvatarCreatorModal;\n"],"names":["_ref","isOpen","onClose","onAvatarCreated","title","iframeRef","useRef","isLoading","setIsLoading","useState","error","setError","useEffect","cleanup","rpmService","setupAvatarCreatorListener","avatarUrl","console","log","avatarCreatorUrl","getAvatarCreatorUrl","bodyType","quickStart","clearCache","_jsxs","className","children","_jsx","onClick","href","target","rel","ref","src","onLoad","handleIframeLoad","onError","handleIframeError","allow"],"sourceRoot":""}